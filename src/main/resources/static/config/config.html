<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ConfiguraciÃ³n - Fertigo</title>
  <link rel="stylesheet" href="configuracion.css">
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo"><h2>ğŸŒ± Ferti-Go</h2></div>
    <nav class="menu">
      <a href="../dashboard/dashboard.html">ğŸ“Š Dashboard</a>
      <a href="../usuarios/usuarios.html">ğŸ‘¤ Usuarios</a>
      <a href="../fertilizantes/fertilizantes.html">ğŸ§ª Fertilizantes</a>
      <a href="../pedidos/pedidos.html">ğŸ“¦ Pedidos</a>
      <a href="../guias/guias.html">ğŸ“‘ Generar GuÃ­a</a>
      <a href="../novedades/novedades.html">ğŸ“° Novedades</a>
      <a href="../config/config.html" class="active">âš™ Configuraciones</a>
      <a href="../manual/manual.html">ğŸ“˜ Manual</a>
    </nav>
    <button class="logout" onclick="cerrarSesion()">Cerrar SesiÃ³n</button>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Top Bar -->
    <div class="top-bar">
      <h1>âš™ï¸ ConfiguraciÃ³n del Sistema</h1>
      <div class="user-info">
        <span id="nombreUsuario">Admin</span>
        <button onclick="cerrarSesion()">Salir</button>
      </div>
    </div>

    <!-- DescripciÃ³n -->
    <div class="config-intro">
      <h2>ConfiguraciÃ³n General</h2>
      <p class="config-description">
        Personaliza la informaciÃ³n principal de tu plataforma Fertigo.
      </p>
    </div>

    <!-- Cards de configuraciÃ³n -->
    <div class="config-cards">
      <!-- Card 1: Nombre Empresa -->
      <div class="config-card">
        <div class="config-card-icon">ğŸ¢</div>
        <h3>Nombre de la Empresa</h3>
        <p>Actualiza el nombre que se muestra en toda la plataforma</p>
        <button class="btn-config" onclick="openModal('empresaModal')">
          Cambiar Nombre
        </button>
      </div>

      <!-- Card 2: Idioma -->
      <div class="config-card">
        <div class="config-card-icon">ğŸŒ</div>
        <h3>Idioma del Sistema</h3>
        <p>Selecciona el idioma de la interfaz</p>
        <button class="btn-config" onclick="openModal('idiomaModal')">
          Cambiar Idioma
        </button>
      </div>

      <!-- Card 3: ContraseÃ±a -->
      <div class="config-card">
        <div class="config-card-icon">ğŸ”’</div>
        <h3>ContraseÃ±a de Admin</h3>
        <p>Actualiza tu contraseÃ±a de acceso</p>
        <button class="btn-config" onclick="openModal('contrasenaModal')">
          Cambiar ContraseÃ±a
        </button>
      </div>
    </div>

    <!-- InformaciÃ³n actual -->
    <div class="config-info">
      <h3>ğŸ“‹ ConfiguraciÃ³n Actual</h3>
      <div class="info-grid">
        <div class="info-item">
          <strong>Empresa:</strong>
          <span id="empresaActual">Cargando...</span>
        </div>
        <div class="info-item">
          <strong>Idioma:</strong>
          <span id="idiomaActual">Cargando...</span>
        </div>
        <div class="info-item">
          <strong>Ãšltima actualizaciÃ³n:</strong>
          <span id="ultimaActualizacion">Cargando...</span>
        </div>
      </div>
    </div>
  </main>

  <!-- MODAL: Cambiar Nombre Empresa -->
  <div id="empresaModal" class="modal">
    <div class="modal-content">
      <span class="cerrar" onclick="closeModal('empresaModal')">&times;</span>
      <h2>ğŸ¢ Cambiar Nombre de la Empresa</h2>
      <form onsubmit="event.preventDefault(); guardarEmpresa();">
        <div class="form-group full-width">
          <label for="empresaInput">Nuevo nombre de la empresa:</label>
          <input type="text" id="empresaInput" placeholder="Ej: Fertigo S.A.S." required>
        </div>
        <div class="modal-buttons">
          <button type="submit" class="btn-agregar">Guardar Cambios</button>
        </div>
      </form>
    </div>
  </div>

  <!-- MODAL: Cambiar Idioma -->
  <div id="idiomaModal" class="modal">
    <div class="modal-content">
      <span class="cerrar" onclick="closeModal('idiomaModal')">&times;</span>
      <h2>ğŸŒ Cambiar Idioma del Sistema</h2>
      <form onsubmit="event.preventDefault(); guardarIdioma();">
        <div class="form-group full-width">
          <label for="idiomaSelect">Seleccionar idioma:</label>
          <select id="idiomaSelect" required>
            <option value="es">EspaÃ±ol</option>
            <option value="en">English</option>
            <option value="pt">PortuguÃªs</option>
          </select>
        </div>
        <div class="modal-buttons">
          <button type="submit" class="btn-agregar">Guardar Cambios</button>
        </div>
      </form>
    </div>
  </div>

  <!-- MODAL: Cambiar ContraseÃ±a -->
  <div id="contrasenaModal" class="modal">
    <div class="modal-content">
      <span class="cerrar" onclick="closeModal('contrasenaModal')">&times;</span>
      <h2>ğŸ”’ Cambiar ContraseÃ±a</h2>
      <form onsubmit="event.preventDefault(); guardarContrasena();">
        <div class="form-group full-width">
          <label for="oldPassword">ContraseÃ±a actual:</label>
          <input type="password" id="oldPassword" placeholder="Ingresa tu contraseÃ±a actual" required>
        </div>
        <div class="form-group full-width">
          <label for="newPassword">Nueva contraseÃ±a:</label>
          <input type="password" id="newPassword" placeholder="Ingresa la nueva contraseÃ±a" required minlength="6">
        </div>
        <div class="form-group full-width">
          <label for="confirmPassword">Confirmar nueva contraseÃ±a:</label>
          <input type="password" id="confirmPassword" placeholder="Confirma la nueva contraseÃ±a" required minlength="6">
        </div>
        <div class="modal-buttons">
          <button type="submit" class="btn-agregar">Cambiar ContraseÃ±a</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Mensaje flotante -->
  <div id="mensaje" class="mensaje-flotante"></div>

  <script src="configuracion.js"></script>
  <script src="../i18n.js"></script>
  <script defer src="configuracion.js"></script>
</body>
</html>